<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JunglePod ü™¥</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');

        :root {
            --bg-dark: #0f1412;
            --text-primary: #e8e6e1;
            --text-secondary: #9aa8a2;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body, html {
            width: 100%; height: 100%; overflow: hidden;
            background-color: var(--bg-dark);
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: var(--text-primary);
        }

        .tropical-bg {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            background-image: url('https://cdn.pixabay.com/photo/2021/06/20/14/23/tropical-6351119_1280.jpg');
            background-size: cover; background-position: center;
            background-repeat: no-repeat; z-index: 1;
        }

        .overlay-dark {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(15, 20, 18, 0.6);
            z-index: 2; pointer-events: none;
        }

        .linen-overlay {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh; z-index: 3;
            opacity: 0.06;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
            animation: drift 60s linear infinite alternate;
            pointer-events: none; mix-blend-mode: overlay;
        }

        @keyframes drift {
            0% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(2%, 1%) rotate(1deg); }
            100% { transform: translate(-2%, -1%) rotate(-1deg); }
        }

        .content-wrapper {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh; z-index: 10;
            pointer-events: none; overflow: hidden;
        }

        .dynamic-text {
            position: absolute;
            font-size: 4rem;
            font-weight: 300;
            letter-spacing: -0.01em;
            opacity: 0;
            text-shadow: 0 4px 30px rgba(0,0,0,0.5);
            white-space: nowrap;
            pointer-events: none;
            will-change: transform, opacity, top, left;
        }

        /* JunglePod - fade di tengah */
        .a-center {
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem; font-weight: 400;
            transition: opacity 2.5s ease-in-out;
        }
        .a-center.s { opacity: 1; }
        .a-center.h { opacity: 0; }

        /* Indie - dari kiri-atas ke kanan-bawah */
        .a-tlbr {
            top: 15%; left: 15%;
            transform: translate(0, 0);
            font-size: 3.5rem;
            transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .a-tlbr.s { opacity: 1; }
        .a-tlbr.h {
            opacity: 0;
            transform: translate(70vw, 70vh);
        }

        /* Software - dari kanan-atas ke kiri-bawah */
        .a-trbl {
            top: 15%; right: 15%;
            transform: translate(0, 0);
            font-size: 3.5rem;
            transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .a-trbl.s { opacity: 1; }
        .a-trbl.h {
            opacity: 0;
            transform: translate(-70vw, 70vh);
        }

        /* Creator - dari bawah ke tengah, lalu fade di tempat */
        .a-bc {
            top: 100vh;          /* mulai dari bawah layar */
            left: 50vw;
            transform: translate(-50%, -100%);
            font-size: 4.5rem; font-weight: 500;
            transition: all 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .a-bc.s {
            opacity: 1;
            top: 50vh;           /* naik ke tengah */
            left: 50vw;
            transform: translate(-50%, -50%);
        }
        .a-bc.h {
            opacity: 0;           /* tetap di tengah, hanya fade */
            top: 50vh;
            left: 50vw;
            transform: translate(-50%, -50%);
        }

        /* Pesan terakhir */
        .final-message {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.4rem; font-weight: 400; font-style: italic;
            opacity: 0; transition: opacity 3s ease-in;
            color: var(--text-secondary); text-align: center;
            letter-spacing: 0.15em; pointer-events: none; width: 100%;
        }
        .final-message.show { opacity: 1; }

        /* Pop-up Story */
        .story-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(15, 20, 18, 0.85);
            backdrop-filter: blur(5px);
            z-index: 200;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease, visibility 0.8s;
            pointer-events: none;
        }

        .story-popup.show {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .story-content {
            background: rgba(30, 35, 33, 0.9);
            border: 1px solid rgba(232, 230, 225, 0.2);
            border-radius: 16px;
            padding: 2.5rem;
            max-width: 500px;
            margin: 0 20px;
            position: relative;
            color: var(--text-primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            max-height: 80vh;
            overflow-y: auto;
        }

        .story-content p {
            margin-bottom: 1.2rem;
            line-height: 1.6;
            font-size: 1rem;
            font-weight: 300;
            letter-spacing: 0.02em;
        }

        .story-content p.warkop {
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .close-btn {
            position: absolute;
            top: 12px;
            right: 16px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: var(--text-primary);
        }

        /* Tombol close terima kasih */
        .close-thanks-btn {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: transparent;
            border: 1px solid var(--text-secondary);
            color: var(--text-secondary);
            padding: 8px 18px;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 300;
            letter-spacing: 0.5px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.5s ease, background 0.3s, color 0.3s;
            pointer-events: none;
            z-index: 50;
            white-space: nowrap;
        }

        .close-thanks-btn.show {
            opacity: 1;
            pointer-events: auto;
        }

        .close-thanks-btn:hover {
            background: rgba(232, 230, 225, 0.1);
            color: var(--text-primary);
            border-color: var(--text-primary);
        }

        #start-overlay {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(15, 20, 18, 0.95); z-index: 100;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; transition: opacity 1s ease;
        }
        #start-text {
            font-size: 0.95rem; letter-spacing: 4px;
            text-transform: uppercase; border: 1px solid var(--text-primary);
            padding: 20px 45px; font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 500; color: var(--text-primary); background: transparent;
        }
        #start-text:hover { background: rgba(232, 230, 225, 0.1); }

        /* Media queries untuk HP - diperkuat dengan !important dan clamp */
        @media (max-width: 600px) {
            .dynamic-text {
                white-space: normal !important;
                word-break: break-word !important;
                max-width: 90vw !important;
                text-align: center;
                font-size: clamp(2rem, 10vw, 4rem) !important;
            }
            .a-center, .a-center.s {
                font-size: clamp(2.2rem, 7vw, 3rem) !important;
                white-space: normal !important;
                max-width: 95vw !important;
                word-break: break-word !important;
                line-height: 1.2 !important;
            }
            .a-tlbr, .a-trbl {
                font-size: 2.5rem !important;
                white-space: normal !important;
                max-width: 80vw !important;
                top: 10% !important;
                left: 10% !important;
                right: 10% !important;
            }
            .a-bc {
                font-size: 3rem !important;
                white-space: normal !important;
                max-width: 80vw !important;
            }
            .final-message {
                font-size: 1rem !important;
                padding: 0 20px !important;
                white-space: normal !important;
            }
            .close-thanks-btn {
                top: 65% !important;
                font-size: 0.8rem !important;
                padding: 6px 12px !important;
            }
            .story-content {
                padding: 1.5rem !important;
                max-width: 90% !important;
            }
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=meditative-ambient-11496.mp3" type="audio/mpeg">
    </audio>

    <div id="start-overlay" onclick="startExperience()">
        <div id="start-text">Enter JunglePod</div>
    </div>

    <div class="tropical-bg"></div>
    <div class="overlay-dark"></div>
    <div class="linen-overlay"></div>

    <div class="content-wrapper">
        <div id="text-display" class="dynamic-text"></div>
        <div id="final-display" class="final-message">JunglePod ü™¥ ‚Äî arriving in 2026</div>
        
        <!-- Tombol close terima kasih -->
        <button id="close-thanks" class="close-thanks-btn" onclick="closeAndReset()">[x] close, terima kasih</button>
        
        <!-- Pop-up Story -->
        <div id="story-popup" class="story-popup">
            <div class="story-content">
                <button class="close-btn" onclick="closePopup()">√ó</button>
                <p>Dari tanah ke kode. ü™¥üíª</p>
                <p class="warkop">(Jadi nyanyian kode ala Warkop DKI üòÅ)</p>
                <p>Setelah bertahun-tahun di JunglePod -Urban Living Eco Lab-, saatnya "nyebrang" ke dunia digital sebagai Indie Software Creator. Intro sederhana ini saya bangun sendiri, belajar pelan-pelan tentang koordinat, transisi, dan logika CSS.</p>
                <p>Sovereign Timing Management & Eco Tech lainnya sedang dalam oven. Semoga rampung di 2026! üöÄ</p>
            </div>
        </div>
    </div>

    <script>
        const sequence = [
            { text: "JunglePod ü™¥", anim: "a-center" },
            { text: "Indie",        anim: "a-tlbr" },
            { text: "Software",     anim: "a-trbl" },
            { text: "Creator",      anim: "a-bc" }
        ];

        const textEl = document.getElementById('text-display');
        const finalEl = document.getElementById('final-display');
        const music = document.getElementById('bg-music');
        const overlay = document.getElementById('start-overlay');
        const storyPopup = document.getElementById('story-popup');
        const closeThanksBtn = document.getElementById('close-thanks');

        music.volume = 0.4;

        async function startExperience() {
            try { await music.play(); } catch(e) {}
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                setTimeout(() => run(0), 500);
            }, 1000);
        }

        function run(i) {
            if (i >= sequence.length) { final(); return; }
            const { text, anim } = sequence[i];

            // --- RESET DENGAN TRANSISI DIMATIKAN SEMENTARA ---
            textEl.style.transition = 'none';       // hindari transisi saat berpindah posisi awal
            textEl.className = 'dynamic-text ' + anim;
            textEl.textContent = text;
            void textEl.offsetWidth;                // paksa reflow
            textEl.style.transition = '';           // kembalikan transisi dari CSS

            // Munculkan
            setTimeout(() => textEl.classList.add('s'), 20);

            // Durasi tampil acak (2.5 - 4 detik)
            const stay = Math.random() * 1500 + 2500;

            // Tentukan durasi hide sesuai animasi
            let hideDuration = (anim === 'a-center' || anim === 'a-bc') ? 2500 : 2000;

            // Hilangkan setelah stay
            setTimeout(() => {
                textEl.classList.remove('s');
                textEl.classList.add('h');

                // Panggil berikutnya setelah animasi hide selesai
                setTimeout(() => run(i + 1), hideDuration);
            }, stay);
        }

        function final() {
            textEl.style.display = 'none';
            finalEl.classList.add('show');
            
            // Munculkan tombol close setelah teks akhir tampil
            setTimeout(() => {
                closeThanksBtn.classList.add('show');
            }, 500);
            
            // Munculkan pop-up setelah 2 detik
            setTimeout(() => {
                storyPopup.classList.add('show');
            }, 2000);
        }

        // Fungsi untuk menutup pop-up (tombol x di dalam pop-up)
        function closePopup() {
            storyPopup.classList.remove('show');
        }

        // Fungsi untuk close dan reset ke awal (tombol di bawah teks akhir)
        function closeAndReset() {
            // Sembunyikan tombol & teks akhir
            closeThanksBtn.classList.remove('show');
            finalEl.classList.remove('show');
            
            // Hentikan & reset musik
            music.pause();
            music.currentTime = 0;
            
            // Sembunyikan pop-up
            storyPopup.classList.remove('show');
            
            // Tampilkan overlay start
            overlay.style.display = 'flex';
            overlay.style.opacity = '1';
            
            // Siapkan elemen teks untuk animasi berikutnya
            textEl.style.display = 'block';
            textEl.className = 'dynamic-text';
            textEl.style.transition = 'none';
            
            // Reset class apapun yang mungkin tertinggal
            textEl.classList.remove('s', 'h');
        }
    </script>
</body>
</html>